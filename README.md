# é˜´é˜³å¸ˆåå°å…¨å¹³å°è¾…åŠ©

![screen](https://i.loli.net/2021/07/06/XMYBNbmcJZlR6rH.jpg)

- Python ç‰ˆæœ¬ï¼šPython 3.8
- æ¨¡æ‹Ÿå™¨ï¼š[é›·ç”µæ¨¡æ‹Ÿå™¨ï¼ˆæ¨èï¼‰](https://www.ldmnq.com/)ï½œ[ç½‘æ˜“ MuMu](http://mumu.163.com/)  
- æ¨¡æ‹Ÿå™¨åˆ†è¾¨ç‡ï¼š**`1024*576`**
- ç½‘æ˜“ MuMu æ˜¾å¡æ¸²æŸ“æ¨¡å¼ï¼š**å…¼å®¹ï¼ˆOpenGLï¼‰**
- **å…¼å®¹ Windows ç³»ç»Ÿå’Œ MacOS ç³»ç»Ÿï¼ˆä¸å¤ªå‹å¥½ï¼Œå‘çƒ­ä¸¥é‡ä¸”éœ€è¦é‡æ–°æˆªå›¾ï¼‰**
- **ğŸ’ ä¸‹è½½ã€Œå½©äº‘å¤©æ°”ã€APPï¼Œè¾“å…¥æˆ‘çš„é‚€è¯·ç ï¼š`24066808`ï¼Œé¢†å–æœ€é«˜ä¸€å¹´ SVIPã€‚**

## ä¸ªäººä½¿ç”¨é¡ºåº

æ¯å‘¨é¦–å…ˆæŒ‚ç§˜é—»å‰¯æœ¬ï¼Œæ¯å¤©ä¸‰å¤§åœ°åŸŸé¬¼ç‹ï¼Œç»“ç•Œçªç ´åˆ¸æ»¡äº†æŒ‚çªç ´ï¼Œçªç ´ç”¨å®Œäº†æŒ‚å¾¡é­‚ï¼Œå¤§æ¦‚ 80-100 æ¬¡å·¦å³å¾¡é­‚ç»“ç•Œçªç ´åˆ¸ä¼šæ»¡ï¼Œæ»¡äº†ç»§ç»­æŒ‚çªç ´...

## æ€è·¯ï¼š

**åˆ©ç”¨ adb æˆªå›¾åï¼Œä½¿ç”¨ opencv æ‰¾å›¾æ‰¾è‰²ï¼Œæ¨¡æ‹Ÿç‚¹å‡»ã€‚ä½¿ç”¨ adb æ“ä½œæ¨¡æ‹Ÿå™¨ï¼Œç›¸å½“äºåå°æ“ä½œã€‚**

**æˆ‘ä¸»è¦ä¸ºäº†åˆ·å‹¾ç‰ï¼Œæ‰€ä»¥æ­¤å·¥å…·æ›´ä¾§é‡åœ°åŸŸé¬¼ç‹ï¼Œç»“ç•Œçªç ´å’Œç§˜é—»å‰¯æœ¬ï¼Œå¾¡é­‚æ˜¯ç”¨æ¥åˆ·çªç ´åˆ¸çš„ã€‚**

**ä¸ºäº†é˜²æ­¢æ”¶åˆ°é¬¼ä½¿é»‘çš„æ¥ä¿¡ï¼Œæ‰€ä»¥å¢åŠ éšæœºç­‰å¾…çš„æ—¶é—´æ¯”è¾ƒå¤šï¼Œæ¯æ¬¡éšæœºç­‰å¾… 2-3 ç§’ï¼Œå¯¼è‡´æ•´ä½“è¿è¡Œé€Ÿåº¦ç¨å¾®æ…¢äº†ä¸€äº›ã€‚**

**æ­¤å·¥å…·é€‚åˆæ”¾åœ¨åå°å¹²å…¶ä»–å·¥ä½œçš„åŒå­¦ä½¿ç”¨ã€‚è§‚èµä»·å€¼ä¸é«˜ã€‚**

------

**åœ°åŸŸé¬¼ç‹**éœ€è¦å…ˆæŠŠå§‘è·é¸Ÿï¼Œä»¥æ´¥çœŸå¤©å’Œå±±ç«¥æ”¶è—ã€‚

![æ”¶è—](https://i.loli.net/2021/03/25/9VgW8nmsNKGDrtU.jpg)

**ç»“ç•Œçªç ´**ä¸»è¦æ˜¯æŠŠä¹å®«æ ¼çš„åæ ‡ä¿å­˜åˆ°åˆ—è¡¨ï¼Œä½¿ç”¨ `shuffle` æ–¹æ³•éšæœºæ‰“ä¹±ï¼Œç„¶åå¾ªç¯æ‰§è¡Œã€‚

**ç›®å‰åªæ”¯æŒä¸ªäººç»“ç•Œçªç ´ï¼Œå¹¶ä¸”é˜µå®¹éœ€è¦è§£é”**ã€‚

![çªç ´ç•Œé¢](https://i.loli.net/2021/03/25/NBIz6W1V2E5Gaxi.jpg)

ç¬¬ä¸€æ¬¡è¿›å…¥çªç ´ä¼šä¸»åŠ¨å¤±è´¥ä¸€æ¬¡ï¼Œå¤±è´¥çš„è¯éš¾åº¦ä¸ä¼šå¢åŠ ï¼Œæ–¹ä¾¿åˆ·æ’åå’Œå‹¾ç‰ä½¿ç”¨ã€‚

æ¯çªç ´ä¸‰æ¬¡ä¼šé¢†å–ä¸€æ¬¡å¥–åŠ±ï¼Œç­‰å¾…ä¹æ¬¡å…¨éƒ¨å®Œæˆåï¼Œä¼šæŠŠå³ä¸Šè§’çªç ´å‰©ä½™æ•°é‡æˆªå›¾ä¸Šä¼ åˆ°è…¾è®¯ OCR è¯†åˆ«æ¥å£ï¼Œå¦‚æœå‰©ä½™æ¬¡æ•°å¤§äºç­‰äºä¹æ¬¡ï¼Œé€’å½’æ‰§è¡Œï¼Œå¦åˆ™åœæ­¢æ‰§è¡Œã€‚

> è…¾è®¯ OCR æ¯æœˆæœ‰ä¸€åƒæ¬¡å…è´¹æ¬¡æ•°ã€‚å¦‚æœåªæ˜¯è¯†åˆ«ç»“ç•Œåˆ¸ä½¿ç”¨ï¼Œåº”è¯¥æ˜¯å¤Ÿç”¨äº†ï¼Œå¦‚æœä¸å¤Ÿç”¨å¯ä»¥æŒ‰éœ€ä»˜è´¹æˆ–è€…è‡ªå»ºå­—å…¸è¯†åˆ«ã€‚

![çªç ´å‰©ä½™æ•°é‡](https://i.loli.net/2020/10/23/3nSe5p8YMi9LlTw.png)

è¿™ä¸€æ­¥éœ€è¦ç”³è¯· [è…¾è®¯äº‘æ–‡å­—è¯†åˆ« OCR](https://cloud.tencent.com/product/ocr-catalog) çš„ secretId å’Œ secretKeyã€‚

ç„¶åæ–°å»ºæ–‡ä»¶ `tencentcloudKeys.py`ï¼Œå†™å…¥ï¼š

```python

secretId = "AKI***********************aYHDtmaOw"
secretKey = "Sg**************************QdZ7X"
```

## æ¨¡æ‹Ÿå™¨ç‰ˆ

éƒ¨åˆ†æ“ä½œå‚è€ƒ [ç½‘æ˜“ MuMu å¼€å‘è€…å¿…å¤‡è¯´æ˜ä¹¦](http://mumu.163.com/help/func/20190129/30131_797867.html) å’Œ [ã€é›·ç¥å‘½ä»¤ã€‘å¸¸ç”¨adbå‘½ä»¤æ•´ç†è´´](https://www.ldmnq.com/forum/thread-32-1-1.html) ã€‚

å»ºè®®ç›´æ¥çœ‹é›·ç¥æ¨¡æ‹Ÿå™¨ç¤¾åŒºçš„å‘½ä»¤æ•´ç†ï¼Œæ¯”è¾ƒè¯¦ç»†ã€‚

### è¿è¡Œé˜´é˜³å¸ˆ

å¦‚æœä¸æ¸…æ¥šåº”ç”¨çš„å¯åŠ¨å‘½ä»¤ï¼Œå¯ä»¥å…ˆæ‰‹åŠ¨è¿è¡Œè¯¥ç¨‹åºï¼Œç„¶åä½¿ç”¨å‘½ä»¤ï¼š

```bash
adb shell dumpsys window | findstr mCurrentFocus
```

æŸ¥æ‰¾æ­£åœ¨è¿è¡Œçš„åº”ç”¨ã€‚

å¯åŠ¨é˜´é˜³å¸ˆçš„å‘½ä»¤ä¸ºï¼š

```bash
adb shell am start -n com.netease.onmyoji.netease_simulator/com.netease.onmyoji.Client
```

å› ä¸ºæˆ‘æ˜¯ iOSï¼Œåªèƒ½æ‰«ç ç™»å½•ï¼Œæ‰€ä»¥å¯åŠ¨å‘½ä»¤å¯¹æˆ‘æ¥è¯´å¹¶ä¸å®ç”¨ã€‚

### æ¨¡æ‹Ÿç‚¹å‡»

ä¾‹å¦‚æˆ‘ä»¬éœ€è¦ç‚¹å‡» 500, 266 è¿™ä¸ªåæ ‡ï¼š

```bash
adb shell input tap 500 266
```

### æ¨¡æ‹Ÿæ»‘åŠ¨

ä» `0, 0` æ»‘åŠ¨åˆ° `200, 200`ï¼Œè€—æ—¶ 0.5 ç§’ï¼š

```bash
adb shell input swipe 0 0 200 200 500
```

### æˆªå›¾

éœ€è¦å…ˆè¿è¡Œæ­¤å‘½ä»¤ï¼š

```bash
adb shell screencap /data/screen.png
```

å†å°†æˆªå›¾æ¨é€åˆ°ç”µè„‘ï¼š

```bash
adb pull /data/screen.png .
```

> æ³¨æ„ï¼šç¤ºä¾‹ä¸­çš„å‘½ä»¤å°†å›¾ç‰‡ä¿å­˜åˆ°å½“å‰è·¯å¾„ä¸‹ã€‚

### æ‰¾å›¾

è¿™é‡Œå€ŸåŠ© opencv åº“å®ç°ã€‚

```python
import cv2

def p():
    capture_img = ""  # ç¨‹åºè¿è¡Œæ—¶çš„æˆªå›¾
    temp_img = ""  # å·²ç»ä¿å­˜å¥½çš„å›¾ç‰‡

    img1 = cv2.imread(capture_img)
    img2 = cv2.imread(temp_img)
    result = cv2.matchTemplate(img1, img2, cv2.TM_CCOEFF_NORMED)

    if result.max() > 0.9:
        return True
```

### æ‰¾è‰²

å¦‚ä½•åœ¨æˆªå›¾ä¸­è·å–æŸåæ ‡çš„åƒç´ å€¼ï¼Ÿ

```python
import cv2

def p(x, y):
    capture_img = ""
    _img = cv2.imread(capture_img)
    img = cv2.cvtColor(_img, cv2.COLOR_BGR2RGB)
    r, g, b = img[y, x]  # æ³¨æ„è¿™é‡Œçš„åæ ‡æ˜¯ç›¸åçš„
    return r, g, b
```

### è£å‰ªå›¾ç‰‡

æˆ‘ä»¬æˆªå›¾å®Œæˆä»¥åï¼Œå¦‚ä½•ä»æˆªå›¾ä¸­è·å–å‰©ä½™ç»“ç•Œçªç ´æ•°é‡ï¼Ÿ

```python
import cv2

capture_img = ""
img = cv2.imread(capture_img)
cv2.imwrite("new.png", img[12:30, 705:750])  # è£å‰ªåæ ‡ä¸º [y0:y1, x0:x1]
```

éœ€è¦æ³¨æ„çš„æ˜¯åæ ‡éƒ½æ˜¯ y, xã€‚

### åŒå¼€åº”ç”¨åˆ‡æ¢

> ç”±äºå¤šå¼€æ”¹ç‰ˆåï¼ˆ2.2.2x86/x64 ç‰ˆæœ¬ä¹‹åï¼‰æ‰€æœ‰çš„å¤šå¼€åº”ç”¨å’ŒåŸåº”ç”¨éƒ½æ˜¯åŒä¸€ä¸ªåŒ…åï¼Œæ‰€ä»¥éœ€è¦é€šè¿‡ UserId æ¥æ§åˆ¶å¤šå¼€çš„åº”ç”¨ã€‚

è¿™é‡Œä»¥**ç½‘æ˜“äº‘æ¸¸æˆ**ä¸ºä¾‹ï¼Œå¤šå¼€ååˆ†åˆ«è·å–åŒ…åï¼Œä½¿ç”¨å‘½ä»¤ï¼š

```bash
adb shell dumpsys window | findstr mCurrentFocus
```

å…¨éƒ¨éƒ½æ˜¯ `com.netease.android.cloudgame/com.netease.android.cloudgame.MainActivity`ã€‚

æ‰€ä»¥éœ€è¦é€šè¿‡åˆ‡æ¢ UserId æ¥åˆ‡æ¢åº”ç”¨ã€‚

é€šè¿‡åŒ…åæ¥è·å–å¯¹åº” UserIdï¼š

```bash
adb shell ps|findstr com.netease.android.cloudgame
```

è¿”å›å¦‚ä¸‹å†…å®¹ï¼š

![å¯¹åº”ç”¨æˆ·ID](https://i.loli.net/2020/10/24/Bv3CjegrU1i7XsR.png)

> å¯ä»¥çœ‹åˆ°åŸç«¯åº”ç”¨çš„è¿›ç¨‹ id æ˜¯ u0_a36 ï¼Œçœ‹ `_` å‰é¢çš„ u0 å°±è¡Œï¼Œå³ UserId=0;
> åœ¨ MuMu ä¸Šä¸€èˆ¬åŸç«¯çš„ UserId=0ï¼Œå¤šå¼€ç«¯ #N1 çš„ UserId=10ï¼Œå¦‚æ­¤ç±»æ¨ #N2 çš„ UserId=11ï¼Œ#N3 çš„ UserId=12ï¼Œ#N4 çš„ UserId=13

æ‰€ä»¥å¤šå¼€æ“ä½œåˆ†ä¸ºä¸¤æ­¥ï¼š

1. åˆ‡æ¢ UserId
2. æ‰“å¼€åº”ç”¨

æ ¹æ®ä¸Šè¾¹çš„æˆªå›¾ï¼ŒUserId åˆ†åˆ«æ˜¯ 0 å’Œ 10ï¼Œå¦‚æœè¦åœ¨ä¸¤ä¸ªåº”ç”¨ä¹‹é—´åˆ‡æ¢å¯ä»¥ä½¿ç”¨ï¼š

```bash
# åˆ‡æ¢åŸåº”ç”¨
adb shell am start-user 0
adb shell am start --user 0 com.netease.android.cloudgame/com.netease.android.cloudgame.MainActivity

# åˆ‡æ¢å¤šå¼€åº”ç”¨
adb shell am start-user 10
adb shell am start --user 10 com.netease.android.cloudgame/com.netease.android.cloudgame.MainActivity
```

åˆ‡æ¢ä¹‹åå°±å¯ä»¥ç»§ç»­æ“ä½œäº†ã€‚

### èµèµ

<div align=center><img width="260" height="260" src="https://i.loli.net/2021/01/12/ykHU2RSXoCZFfxr.jpg"></div>
